<html>
<head>
<title>Bingo</title>
<link rel="stylesheet" type="text/css" href="assets/style.css" />
</head>
<body>
<script src="assets/jquery-2.1.3.min.js"></script>
<script src="assets/main.js"></script>
<script src="assets/util.js"></script>
<script src="config.js"></script>
<script>
	$(document).ready(function() {
		init();
	});
</script>
<div id="bingoTable"></div>
<div id="bingoInfo">
	<div id="playersInfo"></div>
	<div id="markerInfo"></div>
</div>
<div id="more">
<div id="updateSettingsBox" style="display: none;">
	<h3>Update state from server</h3>
	<p class="localEditInfo">Loading the state from the server overwrites any changes made to the sheet locally.</p>
	<p>
	<input type="checkbox" id="autoUpdate" /> <label for="autoUpdate">Auto-update</label> 
	<button type="button" onclick="javascript:getFromServer()">Update manually</button>
	<span id="updating" style="display:none;">Updating</span>
	</p>
</div>
<div id="editServerBox" style="display: none;">
	<h3>Save state to server</h3>
	<p>Enter edit key to be able to send the current state of your sheet to the server.</p>
	<p>
	<input type="password" id="editKey" /><input type="submit" onclick="javascript:setEditKey()" value="Set edit key" id="editKeyButton" />
	<span id="editFunctions" style="display:none">
		<input type="checkbox" id="serverAutoSave" /> <label for="serverAutoSave">Autosave</label>
		<input type="submit" onclick="javascript:saveToServer()" value="Save manually" id="saveManually"></input>
		<span id="saving" style="display:none;">Saving</span>
	</span>
	<span id="accessInfo" style="display:none"></span>
	</p>
</div>
<div id="localEditBox" style="display: none;">
	<h3>Make local changes</h3>
	<p><button type="button" onclick="javascript:clearAll()">Clear all states</button> (also removes local storage until you edit something again)</p>
	<p>Click on a player box on the side of each card to cycle between states. <em>Any local state changes you make will be overwriten if you update the state from the server.</em></p>

	<p>Hover over a player box and use shortcuts:</p>
	<ul>
		<li><kbd>W</kbd> or <kbd>E</kbd> to mark as "doing" (just color)</li>
		<li><kbd>A</kbd> or <kbd>X</kbd> to mark as "cant do" (x)</li>
		<li><kbd>D</kbd> to mark as "done" (check)</li>
		<li><kbd>S</kbd> or <kbd>C</kbd> to remove marker (clear)</li>
	</ul>
	<p>Hover over a card (where there is no player box) and press <kbd>C</kbd> to remove markers (clear) for all players in that card.
	<p>The current state of the sheet (the markers) are saved in HTML5 local storage every few seconds, so it should be safe to reload the page.
	If you have opened this file locally (<code>file://</code> protocol) then some browsers may not save the state if you close the browser (seems to work in Chrome).</p>
</div>
</div>

</body>
</html>

